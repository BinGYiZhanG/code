
* [题解1](https://blog.csdn.net/caipengbenren/article/details/86776232)
* [题解2](https://blog.csdn.net/sm20170867238/article/details/82118718)
* [bfs](https://www.cnblogs.com/qingjiuling/p/10502072.html)

* 我写的dfs不会判断了
```
#include <bits/stdc++.h>

using namespace std;

const int maxn=100010;

struct Node{
    int id;
    int fid,mid;
    char sex;
}per[maxn];

bool dfs(int cid1,int cid2,int height){
    if(height>5)
        return true;
    if(per[cid1].fid==per[cid2].fid||per[cid1].mid==per[cid2].mid)
        return false;
    //else if((per[cid1].fid==-1&&per[cid2].fid!=-1))
    else
        dfs(per[cid1].fid,per[cid2].fid,height+1)&&
        dfs(per[cid1].fid,per[cid2].mid,height+1)&&
        dfs(per[cid1].mid,per[cid2].fid,height+1)&&
        dfs(per[cid1].mid,per[cid2].mid,height+1);
    return true;
}

int main(){
    int n,tid;
    scanf("%d",&n);
    for(int i=0;i<n;i++){
        cin>>tid;
        per[tid].id=tid;
        cin>>per[tid].sex>>per[tid].fid>>per[tid].mid;
    }
    int m;
    int c1,c2;
    scanf("%d",&m);
    for(int i=0;i<m;i++){
        scanf("%d%d",&c1,&c2);
        if(per[c1].sex==per[c2].sex){
            printf("Never Mind\n");
        }
        else{
            if(dfs(c1,c2,1))
                printf("Yes\n");
            else
                printf("No\n");
        }
    }

    return 0;
}


```
