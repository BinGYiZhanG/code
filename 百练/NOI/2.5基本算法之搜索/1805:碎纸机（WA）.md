
### [思路，转自CSDN](https://blog.csdn.net/loi_chlorinelight/article/details/52851596)
* 
```
#include <bits/stdc++.h>

using namespace std;

int goal_num;///目标数
char strnum[30000];///要粉碎的数字串
int intnum[30000],anses[30000],tmp[30000];
///由数字串得到数字，ans数组是存储结果
int resnum;
int lens,lenres;///数字串的长度，结果数组长度
int ans;
bool flag;

///数字总和:total,数字数组索引:index,结果数组个数:cnt
void dfs(int total,int index,int cnt){
    if(total>goal_num)
///如果不论怎样切割，分割得到的纸片上数的和都大于目标数，那么打印“error”。
        return ;
    if(index>lens){
        if(total==ans){
    ///如果有多种不同的切割方式可以得到相同的最优结果，那么打印“rejected”
            flag=true;
            return ;
        }
        if(total>ans){
            flag=0;
            ans=total;
            for(int i=1;i<cnt;i++)
                anses[i]=tmp[i];
            lenres=cnt-1;
        }
        return ;
    }

    int tmpres=0;
    for(int i=index;i<=lens;i++){
        tmpres*=10;
        tmpres+=intnum[i];
        tmp[cnt]=tmpres;///会在加上1~位的数
        dfs(total+tmpres,i+1,cnt+1);
    }

}

int main(){
    while(scanf("%d%s",&goal_num,strnum)!=EOF){
        if(goal_num==0&&strnum==0)
            break;
        lens=strlen(strnum);
        //cout<<goal_num<<" "<<strnum<<endl;

        for(int i=0;i<lens;i++){///数字串转成数字数组
            intnum[i+1]=strnum[i]-'0';
            resnum*=10;
            resnum+=intnum[i+1];
        }
        //for(int i=1;i<=lens;i++)
        //    cout<<intnum[i]<<" ";

        if(resnum==goal_num){
            printf("%d %d\n",goal_num,goal_num);
            continue;
        }
        flag=false;
        ans=-1;
        dfs(0,1,1);
        if(flag){
///如果有多种不同的切割方式可以得到相同的最优结果，那么打印“rejected”
            puts("rejected");
            continue;
        }
        if(ans==-1){
///如果不论怎样切割，分割得到的纸片上数的和都大于目标数，那么打印“error”。
            puts("error");
        }
        else{
            printf("%d ",ans);
            for(int i=1;i<=lenres;i++){
                if(i==1)
                    printf("%d",anses[1]);
                else
                    printf(" %d",anses[i]);
            }
            puts("");
        }

    }
    return 0;
}

```
